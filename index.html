const canvas = document.createElement("canvas");
document.body.appendChild(canvas);
const ctx = canvas.getContext("2d");

// Replace with your image file name
const imageFileName = "your_image_filename.jpg"; 

// Load the image
const image = new Image();
image.src = imageFileName;

// Set canvas size to match window size
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

const images = [];

// Spawn a new image on click
canvas.addEventListener("click", (event) => {
  const x = event.clientX;
  const y = event.clientY;
  const imageCopy = new Image();
  imageCopy.src = imageFileName;
  images.push({ x, y, image: imageCopy });
});

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  images.forEach((imageObj) => {
    const { x, y, image } = imageObj;
    const imageWidth = 2 * canvas.width / 100; // Calculate image width as 2% of canvas width
    const imageHeight = (image.height / image.width) * imageWidth; // Maintain aspect ratio
    ctx.drawImage(image, x - imageWidth / 2, y - imageHeight / 2, imageWidth, imageHeight);
    imageObj.y += 3; // Update y position with velocity
    imageObj.y = Math.min(imageObj.y, canvas.height - imageHeight); // Keep image within canvas height

    // Add bounce effect on bottom collision
    if (imageObj.y + imageHeight >= canvas.height) {
      imageObj.y = canvas.height - imageHeight;
      imageObj.y -= 10; // Reduce vertical velocity after bounce
    }
  });
  requestAnimationFrame(animate);
}

// Start the animation
animate();
